---
description: 这是大三上的数据库大作业，也是我第一次搭建网站，技术文档放在GitHub上，开发过程就写在这里吧。 GitHub地址：https://github.com/iamrice/CampusTradingWeb
---

# 校园二手交易网站

## 简介
目前为止我负责的部分--首页，已经大致完成了，剩下几个部分，等队友做完再合并。现在属于项目中期，决定记录一下，其实
我会有些担心我们的工作涉及的数据库开发应用太少了，只是应用了简单的删增查改，如果可以的话，希望可以往高并发处理和服务器
安全的方向上多做一些工作。

其实大部分工作都是在国庆完成的，有两个值得记录的点，一个是项目技术方案，另一个是服务器上的部署。

## 技术方案 

react+django+ant

> 这份技术方案主要参考西瓜大佬的指南：https://www.thuasta.cn/#/blog/5

我做过一年多的小程序，项目后端主要依赖于腾讯的云服务，项目前端用的是最原生的html(wxml)+css+js，容易上手，但比较麻烦（这是我今年接触react之后才意识到的5555）

这次搭建网站，完全抛弃小程序的思维，开始配合源码理解西瓜的技术方案，收获颇丰。

## React
React是一个便捷的前端开发脚手架，它的特点在于页面的组件化，页面逻辑层与渲染层的结合。

页面的组件化：所有你认为可以拆分的小组件都可以独立包装成一个类，提高可复用性，提高代码可读性，层级关系清晰。
实在是太棒了，我开发小程序每次做到后期都混乱不堪，但受限于视野原因一直没有了解到先进的脚手架。

逻辑层与渲染层的结合：react的js文件中可以把html标签赋值给一个变量，所以渲染层只要通过render函数返回即可，无需html文件。
逻辑层就作为组件类中的函数，因为页面组件化了，所以每个组件类涉及的函数不多，如果多的话说明可以再细化拆分，这样整个组件就
特别清晰易读。

## sublime text
sublime text是一个编辑器，一个优秀的编辑器。如果要问这学期最提升幸福感的三样东西，Sublime Text一定在列。编辑器，看似一个很普通的工具，我确实第一次实实在在地感受到它和IDE的差别，因为之前我根本分不清这两者。  
在之前，我需要写matlab时，会打开matlab IDE，写python打开pycharm，写java打开eclipse，写c++打开dev......
这是很繁琐的，尤其是你只是想要验证一个简单的东西、编写一段程序，而不是搭建一个项目时。

sublime text有几个优点，丰富的插件库，体型小。
插件库保证了你可以在这里编辑各种语言的程序，标准的代码高亮和清晰的缩进，提高编辑体验。
体型小，保证了零点几秒的启动时间，多么快乐。

当然，使用编辑器就要配合命令行使用，命令行不难，熟能生巧，多用命令行可以帮助理解系统环境。

## 前后端连接
django其实我感觉还没有发挥到它的精髓，目前只是用来写后端函数接口，不过也挺方便的。
整个技术方案前后端分离，两个项目分别部署，然后在react中用ajax去访问django的端口既可。
当然，ajax会拒绝非同源的访问，所以目前是把react部署在./下，把django的接口函数部署在路径./database/下，
不过，我也在想，这样做的话数据库好像不太安全，如果别人知道了接口函数名的话就可以修改数据库了。

## 服务器部署
uwsgi用来挂起django服务，react作为静态的项目只需要在nginx中配置端口。另外，服务器还需安装mysql。
我在思考怎么样才能快速同步本地和服务器的代码。