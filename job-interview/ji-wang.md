# 准备：网络通信

## 1. DNS

* 浏览器缓存，系统缓存，路由器缓存，本地域名服务器缓存，根域名服务器，顶级域名服务器，主域名服务器，保存结果至缓存。
* 递归：只发一次请求，要求对方给出最终结果。例如主机向本地域名服务器的查询。
* 迭代：发出一次请求，对方如果没有答案，它就会返回一个能解答这个查询的其它名称服务器列表。本地域名服务器向根域名服务器的查询的查询。

## 2. 从输入url到网页显示的过程中发生了什么？

1. DNS查询
2. TCP握手
3. TLS握手
4. 请求资源：200继续解析；300重定向；400客户端错误；500服务端错误
5. HTML解析器将html文档解析为DOM树。
6. 解析CSS，构建CSSOM
7. 将DOM和cssom合并为渲染树
8. 渲染树布局
9. 渲染树绘制   

## 3. HTTPS 是如何实现安全性的

1. HTTPS 的三大心脏

* **`加密(Encryption)`**， HTTPS 通过对数据加密来使其免受窃听者对数据的监听，这就意味着当用户在浏览网站时，没有人能够监听他和网站之间的信息交换，或者跟踪用户的活动，访问记录等，从而窃取用户信息。  RSA 的运算速度非常慢，而 AES 的加密速度比较快， TLS 使用了`混合加密`方式。在通信刚开始的时候使用非对称算法，首先解决`密钥交换`的问题。然后用随机数产生对称算法使用的`会话密钥（session key）`，再用`公钥加密`。对方拿到密文后用`私钥解密`，取出会话密钥。这样，双方就实现了对称密钥的安全交换。
* **`数据一致性(Data integrity)`**，数据在传输的过程中不会被窃听者所修改，用户发送的数据会完整的传输到服务端，保证用户发的是什么，服务器接收的就是什么。 在 TLS 中，实现完整性的手段主要是 `摘要算法(Digest Algorithm)`。
* **`身份认证(Authentication)`**，是指确认对方的真实身份，也就是证明你是你（可以比作人脸识别） ，它可以防止中间人攻击并建立用户信任。数字签名，颁发数字证书解决公钥的信任问题。





